bundle:
  name: behavior-modes
  version: 1.0.0
  description: Generic mode system for runtime behavior modification

# Tool for agents to activate/deactivate modes
tools:
  - module: tool-mode
    source: git+https://github.com/robotdad/amplifier-bundle-modes@feat/cross-bundle-mode-discovery#subdirectory=modules/tool-mode

# Hook modules for context injection, tool moderation, and approval
hooks:
  # Mode enforcement hook (runs after approval to set mode_confirm_tools)
  - module: hooks-mode
    source: git+https://github.com/robotdad/amplifier-bundle-modes@feat/cross-bundle-mode-discovery#subdirectory=modules/hooks-mode
    config:
      # Additional search paths for mode definitions
      # Bundle's own modes directory is added automatically
      search_paths: []

  # Approval hook for confirm action (prompts user for approval)
  - module: hooks-approval
    source: git+https://github.com/microsoft/amplifier-module-hooks-approval
    config:
      # Mode-driven: approval decisions come from require_approval_tools in session state
      # No static rules - the mode system fully controls which tools need confirmation
      rules: []
      default_action: continue
      # Skip built-in high-risk checks - let modes drive all approval decisions
      policy_driven_only: true

# Context for agents to understand modes
context:
  include:
    - modes:context/modes-instructions.md
